/* =========================
   Components (Header + Sidebar + UI)
   ========================= */

/* ---------- Pain√©is base ---------- */
.panel {
  background: rgba(18, 26, 39, 0.66);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}

/* =========================================================
   ‚úÖ COLUNA ESQUERDA (container do menu)
   evita menu "solto" na p√°gina
   ========================================================= */
.sidebar-inner{
  height: 100%;
  display: grid;
}

.sidebar .panel{
  height: 100%;
}

/* ---------- Textos utilit√°rios ---------- */
.kicker{
  font-size: 12px;
  font-weight: 950;
  letter-spacing: .38px;
  text-transform: uppercase;
  color: rgba(168,179,199,.92);
}

.lead{
  margin: 8px 0 10px;
  color: rgba(233,238,247,.92);
  line-height: 1.45;
  font-size: 13.5px;
}

.muted{
  color: rgba(168,179,199,.85);
  font-size: 12px;
}

/* =========================================================
   ‚úÖ HEADER (fixo, alinhado ao shell)
   ========================================================= */

.site-header{
  border-bottom: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.78);
  backdrop-filter: blur(10px);

  display: grid;
  grid-template-columns: 290px minmax(0, 1fr) 220px;
  align-items: center;

  padding: 10px 16px;
  gap: 16px;
}

.header-left{
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

.logo{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  font-weight: 900;
  background: linear-gradient(145deg, rgba(124,92,255,.95), rgba(43,228,198,.55));
  box-shadow: var(--shadow);
}

.brand h1{
  margin: 0;
  font-size: 16px;
  letter-spacing: .2px;
  line-height: 1.1;
  color: rgba(233,238,247,.95);
}

.header-center{
  min-width: 0;
  display: flex;
  justify-content: center;
}

.search-wrap{
  width: min(760px, 100%);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
}

.search-wrap input{
  width: 100%;
  padding: 11px 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(18, 26, 39, 0.55);
  color: var(--text);
  outline: none;
  transition: border-color var(--t), box-shadow var(--t), background var(--t);
}

.search-wrap input::placeholder { color: rgba(168,179,199,.72); }

.search-wrap input:focus{
  border-color: rgba(124,92,255,.55);
  box-shadow: 0 0 0 3px rgba(124,92,255,.14);
  background: rgba(18, 26, 39, 0.68);
}

.btn-ghost{
  padding: 11px 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(18, 26, 39, 0.55);
  color: var(--text);
  cursor: pointer;
  transition: transform var(--t), border-color var(--t), background var(--t);
}

.btn-ghost:hover{
  transform: translateY(-1px);
  border-color: var(--stroke2);
  background: rgba(18, 26, 39, 0.68);
}

.header-right{
  display: flex;
  justify-content: flex-end;
  min-width: 0;
}

/* ‚úÖ Bot√£o de menu (hamb√∫rguer) ‚Äì fica invis√≠vel no desktop
   Voc√™ vai colocar ele no header.html depois (ex: <button class="btn-menu"...>) */
.btn-menu{
  display: none;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(18, 26, 39, 0.55);
  color: rgba(233,238,247,.95);
  cursor: pointer;
  transition: transform var(--t), border-color var(--t), background var(--t);
  user-select: none;
}

.btn-menu:hover{
  transform: translateY(-1px);
  border-color: var(--stroke2);
  background: rgba(18, 26, 39, 0.68);
}

.btn-menu::before{
  content: "‚ò∞";
  font-size: 18px;
  line-height: 1;
  transform: translateY(-1px);
}

/* responsivo do header */
@media (max-width: 980px){
  .site-header{
    grid-template-columns: 260px minmax(0, 1fr) 140px;
  }
}

@media (max-width: 760px){
  .site-header{
    grid-template-columns: 1fr auto;
    height: auto;
    padding: 12px 16px;
    gap: 10px;
  }

  .header-left{
    min-width: 0;
  }

  /* Search ocupa linha abaixo no mobile */
  .header-center{
    grid-column: 1 / -1;
    justify-content: stretch;
  }

  .search-wrap{
    grid-template-columns: 1fr;
  }

  /* mostra o bot√£o do menu no mobile */
  .btn-menu{
    display: inline-flex;
  }
}

/* =========================================================
   ‚úÖ CUSTOS (chips do topo)
   ========================================================= */
.costs{
  padding: 14px;
  background: rgba(15, 22, 34, 0.58);
}

.chips{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.chip{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.5);
  color: var(--text);
  font-size: 12.5px;
  font-variant-numeric: tabular-nums;
}

.chip b{ color: rgba(233,238,247,.95); }

.chip .tag{
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  color: var(--muted);
  background: rgba(18, 26, 39, 0.5);
  font-size: 11px;
}

/* =========================================================
   ‚úÖ N√çVEIS (grid + cards)
   ========================================================= */
.levels-wrap{ padding: 14px; }

.panel-title{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.grid-levels{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

@media (max-width: 560px){
  .grid-levels{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

.card{
  position: relative;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(15, 22, 34, 0.95), rgba(18, 26, 39, 0.6));
  cursor: pointer;
  user-select: none;
  transition: transform 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
  min-height: 88px;
}

.card:hover{
  transform: translateY(-2px);
  border-color: var(--stroke2);
}

.card.active{
  border-color: rgba(124, 92, 255, 0.65);
  box-shadow: 0 0 0 3px rgba(124, 92, 255, 0.18);
}

.card .lvl{ font-weight: 900; font-size: 14px; }
.card .sub{ margin-top: 6px; color: var(--muted); font-size: 12px; }

.badge{
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.55);
  color: var(--muted);
}

.here{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-top: 10px;
  padding: 7px 10px;
  border-radius: 12px;
  border: 1px solid rgba(43, 228, 198, 0.4);
  background: rgba(43, 228, 198, 0.12);
  color: rgba(233,238,247,.95);
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
  width: fit-content;
}

.here::before{
  content:"‚Ä¢";
  color: var(--accent2);
  margin-right: 8px;
  font-size: 14px;
  line-height: 0;
}

/* =========================================================
   ‚úÖ PAINEL DE DETALHES (itens)
   ========================================================= */
.details-header{
  padding: 14px 14px 12px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(15, 22, 34, 0.68);
}

.details-header h3{ margin: 0; font-size: 16px; }

.meta{
  display: inline-block;
  margin-top: 6px;
  color: var(--muted);
  font-size: 12px;
}

.details-body{ padding: 14px; }

.hint{
  border: 1px dashed var(--stroke);
  border-radius: 14px;
  padding: 14px;
  color: var(--muted);
  background: rgba(15, 22, 34, 0.35);
  line-height: 1.5;
  font-size: 13px;
}

.items{ display: grid; gap: 10px; margin-top: 10px; }

.item{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px 12px;
  padding: 12px;
  border: 1px solid var(--stroke);
  border-radius: 14px;
  background: rgba(15, 22, 34, 0.5);
  align-items: center;
}

.item .qty{
  font-variant-numeric: tabular-nums;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.45);
  justify-self: end;
  white-space: nowrap;
}

.item .subline{
  grid-column: 1 / -1;
  color: rgba(168,179,199,.9);
  font-size: 12px;
  line-height: 1.35;
}

.item .subline b{ color: rgba(233,238,247,.95); }

/* ---------- Wiki button ---------- */
.nameRow{
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.nameRow .name{
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-weight: 650;
}

.wiki{
  margin-left: 6px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 12px;
  border: 1px solid rgba(43, 228, 198, 0.38);
  background: rgba(43, 228, 198, 0.12);
  color: rgba(233,238,247,.95);
  text-decoration: none;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
  white-space: nowrap;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
}

.wiki:hover{
  transform: translateY(-1px);
  border-color: rgba(43, 228, 198, 0.58);
  background: rgba(43, 228, 198, 0.16);
}

.wiki::before{
  content:"‚Üó";
  opacity:.9;
  transform: translateY(-0.5px);
}

/* =========================================================
   ‚úÖ DROPPED BY (chips + toggle)
   ========================================================= */
.drops{
  grid-column: 1 / -1;
  display: grid;
  gap: 8px;
  margin-top: 2px;
}

.drops .drops-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  color: rgba(233,238,247,.92);
  font-size: 12px;
}

.drops .drops-head .count{
  font-variant-numeric: tabular-nums;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.35);
  color: var(--muted);
  font-size: 11px;
  white-space: nowrap;
}

.drops .chipsWrap{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.dropchip{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.45);
  color: rgba(233,238,247,.92);
  font-size: 12px;
  line-height: 1;
  max-width: 100%;
}

.dropchip::before{
  content:"‚ú¶";
  color: rgba(43,228,198,.9);
  font-size: 12px;
  transform: translateY(-0.5px);
}

.dropchip span{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 58ch;
}

.dropsToggle{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 12px;
  border: 1px solid rgba(124,92,255,.35);
  background: rgba(124,92,255,.10);
  color: rgba(233,238,247,.95);
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .15px;
  cursor: pointer;
  user-select: none;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
  white-space: nowrap;
}

.dropsToggle:hover{
  transform: translateY(-1px);
  border-color: rgba(124,92,255,.55);
  background: rgba(124,92,255,.14);
}

.dropsToggle::before{
  content:"üëÅ";
  font-size: 12px;
  transform: translateY(-0.5px);
  opacity:.9;
}

/* =========================================================
   ‚úÖ SIDEBAR (menu sofisticado)
   ========================================================= */
.side-nav{
  display: grid;
  grid-template-rows: auto 1fr auto;
  height: 100%;
  min-height: 520px;
  padding: 0;
}

.side-head{
  padding: 14px 14px 10px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(11, 15, 23, 0.25);
}

.side-title{
  font-weight: 900;
  letter-spacing: .25px;
  font-size: 13px;
  text-transform: uppercase;
  color: rgba(233,238,247,.92);
}

.side-sub{
  margin-top: 6px;
  font-size: 12px;
  color: rgba(168,179,199,.85);
}

.side-list{
  padding: 10px;
  overflow: auto;
}

.side-list::-webkit-scrollbar{ width: 10px; }
.side-list::-webkit-scrollbar-track{ background: transparent; }
.side-list::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.06);
  border-radius: 999px;
  border: 2px solid rgba(0,0,0,0);
  background-clip: padding-box;
}
.side-list::-webkit-scrollbar-thumb:hover{
  background: rgba(255,255,255,.10);
}

.side-item{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  padding: 10px 10px;
  margin: 4px 0;

  border-radius: 14px;
  border: 1px solid transparent;

  text-decoration: none;
  color: rgba(233,238,247,.90);
  background: rgba(15, 22, 34, 0.26);

  transition: transform var(--t), border-color var(--t), background var(--t), box-shadow var(--t);
}

.side-item .label{
  font-weight: 750;
  font-size: 13px;
  letter-spacing: .15px;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.side-item:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,.10);
  background: rgba(15, 22, 34, 0.42);
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
}

.side-item.active{
  position: relative;
  border-color: rgba(124,92,255,.38);
  background: linear-gradient(180deg, rgba(124,92,255,.14), rgba(15,22,34,.40));
  box-shadow: 0 0 0 3px rgba(124,92,255,.10);
}

.side-item.active::before{
  content:"";
  position: absolute;
  left: 8px;
  top: 10px;
  bottom: 10px;
  width: 3px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(124,92,255,.95), rgba(43,228,198,.60));
  opacity: .95;
}

.side-item.active .label{ padding-left: 10px; }

.hot{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 4px 8px;
  border-radius: 999px;

  font-size: 10px;
  font-weight: 950;
  letter-spacing: .35px;
  text-transform: uppercase;

  color: rgba(11,15,23,.98);
  background: linear-gradient(145deg, rgba(255, 196, 75, 0.95), rgba(255, 120, 80, 0.90));
  box-shadow: 0 10px 18px rgba(0,0,0,.22), 0 0 0 1px rgba(255,255,255,.10) inset;
}

.side-divider{
  height: 1px;
  margin: 10px 6px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
}

.side-foot{
  padding: 12px 12px 14px;
  border-top: 1px solid var(--stroke);
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  background: rgba(11, 15, 23, 0.20);
}

.side-pill{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(18,26,39,.40);

  color: rgba(233,238,247,.84);
  font-size: 12px;
  font-weight: 850;
}

.note{
  margin-top: 12px;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.45;
}

/* =========================================================
   ‚úÖ MOBILE DRAWER (sidebar overlay)
   - o HTML/JS s√≥ precisa alternar a classe: body.sidebar-open
   - e ter um elemento .sidebar-backdrop (opcional, mas recomendado)
   ========================================================= */
.sidebar-backdrop{
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(2px);
  z-index: 79;
}

@media (max-width: 760px){
  /* sidebar vira drawer */
  .sidebar{
    display: block !important;
    position: fixed;
    top: var(--header-h);
    left: 0;
    bottom: 0;
    width: min(86vw, 320px);
    z-index: 80;

    transform: translateX(-110%);
    transition: transform 180ms ease;
    padding: 0 var(--gap) var(--gap);
  }

  .sidebar-inner{
    height: calc(100vh - var(--header-h) - var(--gap));
    border-radius: var(--radius);
    overflow: hidden;
  }

  body.sidebar-open .sidebar{
    transform: translateX(0);
  }

  body.sidebar-open .sidebar-backdrop{
    display: block;
  }
}
